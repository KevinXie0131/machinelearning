Instagram - A perfect example of how different building blocks combine to build a scalable and performant system

Users can add a caption for each post and utilize hashtags or location-based geotags to index them and make them searchable within the application.
A user’s Instagram posts display in their followers’ feeds

We can compromise a little on consistency. It is acceptable if the content (photos or videos) takes time to show in followers’ feeds located in a distant region.
system is read-heavy because service users spend substantially more time browsing the feeds of others than creating and posting new content.
efficient storage management should be a primary consideration

the ratio of readers to writers is 100:1.
We can use compression to reduce the media size substantially.
A task scheduler schedules the events on the database such as removing the entries whose time to live exceeds the limit.

The POST method is used to post photos/videos to the server from the user through the /postMedia API.

data is inherently relational, and we need an order for the data (posts should appear in chronological order) and no data loss even in case of failures (data durability).
benefit from relational queries like fetching the followers or images based on a user ID

a unidirectional relationship
We'll store the photos and videos in a blob store (like S3) and save the path of the photo or video in the table as it is efficient to save larger data in a distributed storage.

he loosely structured data like timeline generation is usually stored in No-SQL, while relational data is saved in SQL-based storage.

It is efficient if we separate the write (uploads) and read services.
Generate a timeline:
    - The pull approach:
        > this approach is slow to respond as we generate a timeline every time the user opens Instagram.
        > can substantially reduce user-perceived latency by generating the timeline offline.
        > Instagram is a read-heavy system. So, the calls we make to fetch the recent posts from every follower will usually return nothing.
    - The push approach: every user is responsible for pushing the content they posted to the people’s timelines who are following them
        > Consider an account that belongs to a celebrity. So we will push the links of the photo/video to millions users, which is inefficient.
    - Hybrid approach
        > Push-based users: The users who have a followers count of hundreds or thousands.
        > Pull-based users: The users who are celebrities and have followers count of a hundred thousand or millions.

We can set it to 24 hours, and the task scheduler deletes the entries whose time exceeds the 24 hours limit.
------------------------------------------------------------------------------------------------------------------------
TinyURL - Encoding IDs in the base-58 system for generating unique short URLs

URL shortening is a service that produces short aliases for long URLs, commonly referred to as short links.
Advantages:
    - convenient to use
    - visually professional, engaging and facilitate a higher degree of sharing possibilities.
    - less error-prone while typing.
    - require smaller storage space
Disadvantages:
    - lose the originality of our brand
    - the possibility of it getting shut down and wiping all our shortened URLs will always be there.
    - Our business brand image depends on the trustworthiness of a URL shortening service.
      the best custom URLs are already taken by the time we start generating short URLs.

TinyURL-like URL shortening service / generate a unique shorter alias of the given URL / generate custom short links for their URLs
Redirection: Given a short link, our system should be able to redirect the user to the original URL.
Expiry time: There must be a default expiration time for the short links

readable, distinguishable, and typeable.
Unpredictability: From a security standpoint, the short links generated by our system should be highly unpredictable.
                  not serially produced, eliminating the possibility of someone guessing
                  secret URLs / risking the secrecy of the private URLs / compromise the privacy of a user's data, making our system less secure

entry requires 500 Bytes of database storage.
Each entry will have a maximum of five years of expiry time, unless explicitly deleted.
We need memory estimates in case we want to cache some of the frequently accessed URL redirection requests.
Let's assume a split of 80-20 in the incoming requests. 20 percent of redirection requests generate 80 percent of the traffic.

Rate limiters will be used to avoid system exploitation.
A Base-58 encoder to transform the sequencer's numeric output to a more readable and usable alphanumeric form.


------------------------------------------------------------------------------------------------------------------------
Web crawler - Detection, identification, and resolution of Web crawler traps

------------------------------------------------------------------------------------------------------------------------
WhatsApp - Message management for offline users

------------------------------------------------------------------------------------------------------------------------
Typeahead - The usage of an efficient trie data structure to provide suggestions

------------------------------------------------------------------------------------------------------------------------
Google Docs - Concurrency management for simultaneous writes, using techniques like operational transformation (OT) and Conflict-free Replicated Data Type (CRDT)

------------------------------------------------------------------------------------------------------------------------
Introduction to Distributed System Failures
The following two factors contribute to failures:
   - Diverse users: Most services have a vibrant user community, and as their needs evolve, so do the software products.
   - Complex systems: the sum of system components is more complex than the individual pieces.

Types of failure in distributed systems:
   - System failure:
   - Method failure: Such failures suspend the working of distributed systems. It may also make the system execute the processes incorrectly or enter a deadlock state.
   - Communication medium failure:
   - Secondary storage failure:

It's preferred to have a graceful degradation so that only a small portion of users are impacted for a short time.
provide resilience so that if one part fails, the rest can still operate.
experienced a global outage
affecting its other affiliates
a faulty configuration
Pitfalls of automation
Cascading failures can arise.
new cluster provisioning, existing cluster scaling, and task de-provisioning
had a ripple effect on thousands of third-party online services
